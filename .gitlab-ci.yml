# This YAML (.yml) gilab-ci file is used by GitLab pages to deploy the code to the servers. 
# For more information on deploying to GitLab Pages consult the following resources:
# https://docs.gitlab.com/ee/user/project/pages/getting_started/pages_ci_cd_template.html
# https://cli.vuejs.org/guide/deployment.html#gitlab-pages

pages:
 image: node:latest
 stage: deploy
 script:
  - cd evilscaught-web
  - npm install --progress=false
  - npm run build
  - rm -rf public
  - mkdir public
  - cp -r dist/* public
 artifacts:
  expire_in: 1 day
  paths:
  - public
 only:
  - master